# Чеклист для тестирования после оптимизации

## Перед тестированием
1. Перезагрузите расширение в Chrome:
   - Откройте `chrome://extensions/`
   - Нажмите кнопку "Обновить" на карточке расширения

## Основные функции для проверки

### 1. Popup (popup.html)
- [ ] Открывается popup при клике на иконку расширения
- [ ] Отображается форма входа для неавторизованных пользователей
- [ ] Работает вход через Google
- [ ] Работает вход через Email/Password
- [ ] Работает регистрация через Email/Password
- [ ] После входа отображается главный экран
- [ ] Загружаются "Recent Ratings" автоматически
- [ ] Работает поиск фильмов в popup
- [ ] Кнопка "Advanced Search" открывает search.html
- [ ] Кнопка "Refresh" обновляет список рейтингов
- [ ] Кнопка "Sign Out" выполняет выход

### 2. Search Page (search.html)
- [ ] Открывается страница поиска
- [ ] Работает поиск фильмов
- [ ] Отображаются результаты поиска
- [ ] Работает пагинация (Previous/Next)
- [ ] Клик на карточку фильма открывает модальное окно
- [ ] Кнопка "Rate This Movie" открывает форму рейтинга
- [ ] Можно поставить рейтинг и оставить комментарий
- [ ] Рейтинг сохраняется в Firestore
- [ ] Кнопка "Back" закрывает страницу

### 3. Утилиты (helpers.js)
- [ ] Функция escapeHtml работает корректно (нет XSS)
- [ ] Функция truncateText обрезает длинные тексты
- [ ] Нет ошибок в консоли связанных с Utils

### 4. Background Script
- [ ] Нет ошибок в консоли background script
- [ ] При установке расширения выводится сообщение в консоль

### 5. Firebase & Firestore
- [ ] Работает аутентификация
- [ ] Сохраняются рейтинги в Firestore
- [ ] Загружаются рейтинги из Firestore
- [ ] Кеширование фильмов работает (или показывает предупреждение)

## Проверка оптимизаций

### Производительность
- [ ] Popup открывается быстро (< 1 сек)
- [ ] Search page загружается быстро
- [ ] Нет задержек при взаимодействии с UI

### Консоль браузера
- [ ] Нет ошибок в консоли popup
- [ ] Нет ошибок в консоли search page
- [ ] Нет ошибок в консоли background script
- [ ] Нет предупреждений о неиспользуемых разрешениях

### Размер и память
- [ ] Расширение использует меньше памяти (проверить в Task Manager)
- [ ] Файлы загружаются корректно

## Известные предупреждения (не критичные)
- Предупреждение о кешировании фильмов (если правила Firestore не настроены)
- "Settings feature coming soon!" при клике на Settings

## Если что-то не работает

1. **Проверьте консоль на ошибки**
   - F12 в popup/search page
   - Проверьте background script в chrome://extensions/

2. **Проверьте загрузку helpers.js**
   - Откройте Network tab в DevTools
   - Убедитесь что helpers.js загружается

3. **Проверьте Firestore правила**
   - Примените правила из firestore.rules
   - См. FIRESTORE_SETUP.md

4. **Перезагрузите расширение**
   - chrome://extensions/ -> Reload

## Отчет о проблемах
Если обнаружили проблему:
1. Опишите шаги для воспроизведения
2. Приложите скриншот консоли с ошибкой
3. Укажите версию Chrome и ОС
